!function(t,o){"use strict";function e(t){throw new Error(i.text.prefix+"Error: "+t)}function n(t,o){n.isRunning=!0,t.style.backgroundPositionX=o.startPosition+"px";var e=1,i=setInterval(function(){return e>o.step?(void 0!=o.endPosition?t.style.backgroundPositionX=o.endPosition+"px":void 0,clearInterval(i),void(n.isRunning=!1)):(t.style.backgroundPositionX=o.startPosition+o.width*e+"px",void e++)},o.interval)}!function(){function e(){throw t.location.href="/old-browser",new Error("Animation Searcher Error: Your Browser is too old, time to change! :)")}if(!o)throw new Error("Animation Searcher Error: Please make sure Angular.JS is loaded Correctly.");var n=t.navigator.userAgent,i=/MSIE [1-8].*]/i;n.match(i)?e():void 0}();var i={text:{prefix:"Animation Searcher "},site:{caso:{name:"华盟",codeName:"caso",fullName:"China Animation Subtitle Organization",url:"https://camoe.org",icon:"http://tp4.sinaimg.cn/1843885343/180/1290319229/0",disabled:!1},ktxp:{name:"极影",codeName:"ktxp",fullName:"Katong XP",url:"http://bt.ktxp.org",icon:"http://tp4.sinaimg.cn/3808818207/180/5680524263/0",disabled:!1},popgo:{name:"漫游",codeName:"popgo",fullName:"Popgo",url:"http://share.popgo.com",icon:"http://tp1.sinaimg.cn/2661910672/180/5727241391/0",disabled:!1},dmhy:{name:"动漫花园",codeName:"dmhy",fullName:"DongMan HuaYuan",url:"http://share.dmhy.org",icon:"http://tp2.sinaimg.cn/1926582581/180/22817929400/0",disabled:!1}},toast:{position:{top:!0,bottom:!1,left:!1,right:!0}}};n.isRunning=!1;var r=(o.module("ngApp",["ngAnimate","ngMaterial","ngSanitize","ngRoute","ngAppCtrls","ngAppDirectives","ngAppToastCtrl","ngAppLeftNavCtrl"]),o.module("ngAppCtrls",[]));r.config(["$compileProvider",function(t){t.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|magnet):/)}]);var a=o.module("ngAppDirectives",[]),s=o.module("ngAppToastCtrl",["ngMaterial"]);s.controller("ToastCtrl",["$scope","$rootScope","$mdToast","$animate",function(t,o,e,n){o.toast={};var r=o.toast;r.toastPosition=i.toast.position,r.getToastPosition=function(){return Object.keys(r.toastPosition).filter(function(t){return r.toastPosition[t]}).join(" ")},r.showSimpleToast=function(t){e.show(e.simple().content(t).position(o.toast.getToastPosition()).hideDelay(5e3))},r.showActionToast=function(t,n,i){i=i||function(){};var r=e.simple().content(t).action(n).highlightAction(!1).position(o.toast.getToastPosition());e.show(r).then(i)},r.closeToast=function(){e.hide()}}]);var c=o.module("ngAppLeftNavCtrl",["ngMaterial"]);c.controller("LeftNavCtrl",function(t,o,e,n,i,r){function a(){n("leftside").toggle().then(function(){})}o.toggleLeftSideNav=a}),r.controller("mainController",["$scope","$rootScope",function(t,o){t.progressStatus={},function(){Object.keys(i.site).filter(function(o){t.progressStatus[o]=!1})}(),t.searchResult={}}]),a.directive("actionBar",function(){return{restrict:"E",scope:{},controller:function(t,o,e){},link:function(t,o,e){}}}),a.directive("leftnavMenu",function(t){return{restrict:"E",scope:!0,controller:function(t,o,e){},link:function(o,e,i){var r=e[0],a={toArrow:function(){var t={startPosition:0,width:27.75,step:16,interval:17};n(r,t),r.setAttribute("data-status","arrow")},toMenu:function(){var t={startPosition:444,endPosition:-1,width:27.75,step:16,interval:17};n(r,t),r.setAttribute("data-status","menu")}};o.buttonMotion=function(){if(n.isRunning)return!1;var o=r.getAttribute("data-status");switch(o){case"menu":a.toArrow();break;case"arrow":a.toMenu()}t.toggleLeftSideNav()},t.setLeftNavMenu=a}}}),a.directive("searchBar",function(t){return{restrict:"E",scope:!0,controller:function(t,o,e,n){},link:function(o,e,n){o.keywords=null,o.searchExec=function(){Object.keys(i.site).filter(function(e){$http.post("/search/"+i.site[e].codeName,{keywords:o.keywords}).success(function(o,n,i,r){$scope.searchResult[e]=o.result,t.toast.showSimpleToast(o.info)}).error(function(o,e,n,i){t.toast.showActionToast(o.info,o.action)})})}}}}),a.directive("siteSwitcher",function(){return{restrict:"E",scope:!0,replace:!0,templateUrl:"/templates/ng-site-switcher.html",controller:function(t,o,n){t.panelSwitch=function(t){t?void 0:e('Please provide param "codeName" while calling this function.')}},link:function(t,o,e){t.switcherList=i.site,Object.keys(t.switcherList).filter(function(o){t.switcherList[o].title="切换至"+t.switcherList[o].name+"的搜索结果"})}}}),a.directive("resultPanel",function(){return{restrict:"E",scope:!0,templateUrl:"/templates/ng-result-panel.html",controller:function(t,o,n,r,a,s){n.codename?void 0:e('Attribute "codename" must be defined.');var c=n.codename;t.domInfo={codeName:c,name:i.site[c].name,fullName:i.site[c].fullName,icon:i.site[c].icon,disabled:i.site[c].disabled},t.result=t.searchResult},link:function(t,o,n){n.codename?void 0:e('Attribute "codename" must be defined.')}}})}(window,window.angular),function(t,o,e){function n(){if(!t.io)throw new Error(i+"Error: Socket.io isn't loaded yet, scripts has been stoped.");var o=t.io();o.on("greeting",function(t){console.log(i+"Info: WebSocket from now on. :)"),o.emit("thank-you-sir",{info:"啊♂啊♂Thank♂You♂Sir"})})}var i="Animation Searcher ";o.element(window).on("load",n)}(window,window.angular);